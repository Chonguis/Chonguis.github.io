(this["webpackJsonptypescript-form"]=this["webpackJsonptypescript-form"]||[]).push([[0],{55:function(a,e,t){a.exports=t(70)},60:function(a,e,t){},61:function(a,e,t){},62:function(a,e,t){},67:function(a,e,t){},68:function(a,e,t){},69:function(a,e,t){},70:function(a,e,t){"use strict";t.r(e);var n=t(0),o=t.n(n),r=t(10),s=t.n(r),i=(t(60),t(22)),c=t(23),l=t(25),u=t(26),d=(t(61),t(20)),m=t(37),h=(t(62),t(108)),p=t(109),b=["Algeria","Angola","Benin","Botswana","Burkina Faso","Burundi","Cabo Verde","Cameroon","Central African Republic","Chad","Comoros","Democratic Republic of the Congo","Republic of the Congo","Cote d'Ivoire","Djibouti","Egypt","Equatorial Guinea","Eritrea","Ethiopia","Gabon","Gambia","Ghana","Guinea","Guinea Bissau","Kenya","Lesotho","Liberia","Libya","Madagascar","Malawi","Mali","Mauritania","Mauritius","Morocco","Mozambique","Namibia","Niger","Nigeria","Rwanda","Sao Tome and Principe","Senegal","Seychelles","Sierra Leone","Somalia","South Africa","South Sudan","Sudan","Swaziland","Tanzania","Togo","Tunisia","Uganda","Zambia","Zimbabwe","Antigua and Barbuda","Bahamas","Barbados","Belize","Canada","Costa Rica","Cuba","Dominica","Dominican Republic","El Salvador","Grenada","Guatemala","Haiti","Honduras","Jamaica","Mexico","Nicaragua","Panama","Puerto Rico","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Trinidad and Tobago","USA","Argentina","Bolivia","Brazil","Chile","Colombia","Ecuador","Guyana","Paraguay","Peru","Suriname","Uruguay","Venezuela","Albania","Andorra","Armenia","Austria","Azerbaijan","Belarus","Belgium","Bosnia and Herzegovina","Bulgaria","Croatia","Cyprus","Czech Republic","Denmark","Estonia","Finland","France","Georgia","Germany","Greece","Iceland","Ireland","Italy","Kazakhstan","Kosovo","Latvia","Liechtenstein","Lithuania","Luxembourg","Macedonia","Malta","Moldova","Monaco","Montenegro","Netherlands","Norway","Poland","Portugal","Romania","Russia","San Marino","Serbia","Slovakia","Slovenia","Spain","Sweden","Switzerland","Turkey","Ukraine","United Kingdom","Vatican City","Armenia","Azerbaijan","Bahrain","Bangladesh","Bhutan","Brunei","Cambodia","China","Cyprus","Georgia","India","Indonesia","Iran","Iraq","Israel","Japan","Jordan","Kazakhstan","Kuwait","Kyrgyzstan","Laos","Lebanon","Malaysia","Maldives","Mongolia","Myanmar","Nepal","North Korea","Oman","Pakistan","Palestine","Philippines","Qatar","Russia","Saudi Arabia","Singapore","South Korea","Sri Lanka","Syria","Taiwan","Tajikistan","Thailand","Timor Leste","Turkey","Turkmenistan","United Arab Emirates","Uzbekistan","Vietnam","Yemen"],_=["Alaska","Alabama","Arkansas","American Samoa","Arizona","California","Colorado","Connecticut","District of Columbia","Delaware","Florida","Georgia","Guam","Hawaii","Iowa","Idaho","Illinois","Indiana","Kansas","Kentucky","Louisiana","Massachusetts","Maryland","Maine","Michigan","Minnesota","Missouri","Mississippi","Montana","North Carolina"," North Dakota","Nebraska","New Hampshire","New Jersey","New Mexico","Nevada","New York","Ohio","Oklahoma","Oregon","Pennsylvania","Puerto Rico","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Virginia","Virgin Islands","Vermont","Washington","Wisconsin","West Virginia","Wyoming"],f=[{id:"country",label:"Country"},{id:"state",label:"State"}],v=function(a){Object(u.a)(t,a);var e=Object(l.a)(t);function t(a){var n;return Object(i.a)(this,t),(n=e.call(this,a)).onChangeInput=function(a,e){n.setState(Object(m.a)({},n.state,Object(d.a)({},e,a.target.value)))},n.onChangeSelect=function(a,e,t){var o;e&&("country"===t?n.setState(Object(m.a)({},n.state,(o={},Object(d.a)(o,t,e),Object(d.a)(o,"state",""),o))):n.setState(Object(m.a)({},n.state,Object(d.a)({},t,e))))},n.state={country:"",state:""},n}return Object(c.a)(t,[{key:"render",value:function(){var a=this,e=[];return f.forEach((function(t){"state"===t.id&&"USA"!==a.state.country||e.push(o.a.createElement("div",{className:"autocomplete"},o.a.createElement(p.a,{id:"combo-box-demo",options:"state"===t.id?_:b.sort(),onChange:function(e,n){return a.onChangeSelect(e,n,t.id)},renderInput:function(a){return o.a.createElement(h.a,Object.assign({},a,{label:t.label,variant:"outlined"}))},value:a.state[t.id]})))})),o.a.createElement("div",{className:"container ".concat(!this.props.submitted&&"defaultPosition")},o.a.createElement("form",{className:"form",onSubmit:function(e){return a.props.onSubmitForm(e,a.state)}},e,o.a.createElement("button",{type:"submit",className:"submit",disabled:!this.state.country},"Submit")),o.a.createElement("small",null,o.a.createElement("em",{style:{marginTop:"20px",display:"block"}},"API used for data:",o.a.createElement("a",{target:"_blank",href:" https://rapidapi.com/astsiatsko/api/coronavirus-monitor"},"https://rapidapi.com/astsiatsko/api/coronavirus-monitor"))))}}]),t}(n.Component),S=(t(67),t(68),t(69),function(a){return console.log(a.label,a.data,typeof a.label),o.a.createElement("div",{className:"Result-container"},o.a.createElement("h2",{className:"Result-number"},a.data),o.a.createElement("h2",null,a.label))}),g=function(a){if(a)return a.replace(/\B(?=(\d{3})+(?!\d))/g,",")},y=function(a){var e,t,n,r;return a.fetchState.total_cases&&a.fetchState.total_deaths&&(e=parseFloat(a.fetchState.total_deaths.replace(/,/g,""))/parseFloat(a.fetchState.total_cases.replace(/,/g,""))*100,e=(Math.round(10*e)/10).toFixed(1)+"%"),a.fetchState.active_cases&&a.fetchState.total_cases&&(n=parseFloat(a.fetchState.active_cases.replace(/,/g,""))/parseFloat(a.fetchState.total_cases.replace(/,/g,""))*100,n=(Math.round(10*n)/10).toFixed(1)+"%"),a.fetchState.total_recovered&&a.fetchState.total_cases&&(t=parseFloat(a.fetchState.total_recovered.replace(/,/g,""))/parseFloat(a.fetchState.total_cases.replace(/,/g,""))*100,t=(Math.round(10*t)/10).toFixed(1)+"%",(Math.round(5.01*10)/10).toFixed(1)),a.fetchState.death_cases&&a.fetchState.cases_number&&(r=parseFloat(a.fetchState.death_cases.replace(/,/g,""))/parseFloat(a.fetchState.cases_number.replace(/,/g,""))*100,r=(Math.round(10*r)/10).toFixed(1)+"%",(Math.round(5.01*10)/10).toFixed(1)),o.a.createElement("div",null,"state"===a.fetchState.activeSearch&&o.a.createElement("div",{className:"displayResultsContainer"},o.a.createElement("em",null,"*State numbers not working correctly, DO NOT TRUST DATA"),o.a.createElement("h1",null,a.fetchState.state_name),o.a.createElement("small",null,"Cases Updated",a.fetchState.record_date),o.a.createElement("br",null),o.a.createElement("small",null,"Deaths Updated",a.fetchState.death_record_date),o.a.createElement("div",{className:"resultsContainer"},o.a.createElement("div",{className:"groupResults"},o.a.createElement(S,{data:g(a.fetchState.cases_number),label:"Total Cases"}),o.a.createElement(S,{data:g(a.fetchState.death_cases),label:"Total Deaths"})),o.a.createElement("div",{className:"groupResults"},o.a.createElement(S,{data:r,label:"Death Ratio"})))),"country"===a.fetchState.activeSearch&&o.a.createElement("div",{className:"displayResultsContainer"},o.a.createElement("h1",null,a.fetchState.country_name),o.a.createElement("small",null,a.fetchState.record_date),o.a.createElement("div",{className:"resultsContainer"},o.a.createElement("div",{className:"groupResults"},o.a.createElement(S,{data:a.fetchState.total_cases,label:"Total Cases"}),o.a.createElement(S,{data:a.fetchState.total_deaths,label:"Total Deaths"})),o.a.createElement("div",{className:"groupResults"},o.a.createElement(S,{data:a.fetchState.active_cases,label:"Active Cases"}),o.a.createElement(S,{data:a.fetchState.total_recovered,label:"Total Recovered"})),o.a.createElement("div",{className:"groupResults"},o.a.createElement(S,{data:n,label:"Active Ratio"}),o.a.createElement(S,{data:e,label:"Death Ratio"}),o.a.createElement(S,{data:t,label:"Recovered Ratio"})))))},E=function(a){Object(u.a)(t,a);var e=Object(l.a)(t);function t(a){var n;return Object(i.a)(this,t),(n=e.call(this,a)).state={activeSearch:"",state_name:void 0,cases_number:void 0,cases_record_date:void 0,death_cases:void 0,death_record_date:void 0,country_name:void 0,total_cases:void 0,new_cases:void 0,active_cases:void 0,total_deaths:void 0,new_deaths:void 0,total_recovered:void 0,total_cases_per1m:void 0,record_date:void 0},n}return Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(a){var e=this;if(a.formState&&JSON.stringify(this.props)!==JSON.stringify(a.formState)){var t=a.formState,n=t.state,o=t.country;a.formState.state?fetch("https://coronavirus-monitor.p.rapidapi.com/coronavirus/johns_hopkins_latest_usa_statistic_by_state.php?state=".concat(n),{method:"GET",headers:{"x-rapidapi-host":"coronavirus-monitor.p.rapidapi.com","x-rapidapi-key":"4781cadd8fmsh5bf0d6baa331ad3p1ab429jsnb80237845be3"}}).then((function(a){a.json().then((function(a){console.log(a),0!==a.usa_cases_by_state.length||0!==a.usa_deaths.length?e.setState({activeSearch:"state",state_name:a.usa_cases_by_state[0].state_name,cases_number:a.usa_cases_by_state[0].cases_number,cases_record_date:a.usa_cases_by_state[0].record_date,death_cases:a.usa_deaths[0].death_cases,death_record_date:a.usa_deaths[0].record_date}):alert("No results")}))})).catch((function(a){console.log(a)})):fetch("https://coronavirus-monitor.p.rapidapi.com/coronavirus/latest_stat_by_country.php?country=".concat(o),{method:"GET",headers:{"x-rapidapi-host":"coronavirus-monitor.p.rapidapi.com","x-rapidapi-key":"4781cadd8fmsh5bf0d6baa331ad3p1ab429jsnb80237845be3"}}).then((function(a){a.json().then((function(a){if(console.log(a),0!==a.latest_stat_by_country.length){var t=a.latest_stat_by_country[0];console.log("latest",t.total_deaths,typeof t.total_deaths),e.setState({activeSearch:"country",total_cases:t.total_cases,new_cases:t.new_cases,active_cases:t.active_cases,total_deaths:t.total_deaths,new_deaths:t.new_deaths,record_date:t.record_date,total_cases_per1m:t.total_cases_per1m,total_recovered:t.total_recovered,country_name:t.country_name})}else alert("No results")}))})).catch((function(a){console.log(a)}))}}},{key:"render",value:function(){return o.a.createElement("div",{className:"tableContainer"},o.a.createElement(y,{fetchState:this.state}))}}]),t}(o.a.Component),C=function(a){Object(u.a)(t,a);var e=Object(l.a)(t);function t(a){var n;return Object(i.a)(this,t),(n=e.call(this,a)).onSubmitForm=function(a,e){a.preventDefault(),console.log("formstate",e),n.setState({submitted:!0,formState:e}),console.log(e,"formState")},n.state={submitted:!1,formState:{country:"",state:""}},n}return Object(c.a)(t,[{key:"render",value:function(){var a=!1;return"other"!==this.state.formState.state&&"other"!==this.state.formState.country||(a=!0),o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},"Coronavirus World Tracker"),o.a.createElement("div",{className:"App-body"},Object.keys(this.state.formState)&&o.a.createElement(E,{formState:a?null:this.state.formState}),o.a.createElement(v,{onSubmitForm:this.onSubmitForm,submitted:this.state.submitted})))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(a){a.unregister()})).catch((function(a){console.error(a.message)}))}},[[55,1,2]]]);
//# sourceMappingURL=main.80f41b39.chunk.js.map